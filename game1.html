<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Cat bus</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>
	<script type="text/javascript">
		var config = {
        type: Phaser.AUTO,
        width: 900,
        height: 600,
       physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 300 },
            debug: false
        }
    },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };

    var key1;
    var train;
    var number1 = 0;
    var number2 = 0;
    var number3 = 0;
    var number4 = 0;
    var number5 = 0;
    var Answer1;
    var Answer2;
    var Answer3;
    var Answer4;
    var Answer5;
    var ground;
    var game = new Phaser.Game(config);

	 function preload(){
		this.load.image('background','background.png');
		this.load.image('BusStop','busstop.png');
		this.load.image('train','cat.png');
        this.load.image('ground','nen1.png');

	}
	function create(){
		this.add.image(400,300,'background');
		this.add.image(240,240,'BusStop').setScale(0.5);
		this.add.image(360,240,'BusStop').setScale(0.5);
		this.add.image(480,240,'BusStop').setScale(0.5);
		this.add.image(600,240,'BusStop').setScale(0.5);
		this.add.image(720,240,'BusStop').setScale(0.5);
		


        ground = this.physics.add.staticGroup();
        ground.create(400,400,'ground').setScale(3).refreshBody();

        Answer1 = this.add.text(230, 200, '', { fontSize: '32px', fill: '#000' });
        Answer2 = this.add.text(350, 200, '', { fontSize: '32px', fill: '#000' });
        Answer3 = this.add.text(470, 200, '', { fontSize: '32px', fill: '#000' });
        Answer4 = this.add.text(590, 200, '', { fontSize: '32px', fill: '#000' });
        Answer5 = this.add.text(710, 200, '', { fontSize: '32px', fill: '#000' });
        
        train  = this.physics.add.sprite(100,300, 'train');
        this.physics.add.collider(train, ground);
        this.keyboard = this.input.keyboard.addKeys("THREE,FOUR,FIVE");

       
        

	}
     
	function update(){
        train.setVelocityX(100);
        if (train.x > 240) {
            train.setVelocityX(0);
            number1 = 1;
            Answer1.setText(number1);
             train.setVelocityX(100);
        }
        if (train.x > 360) {
            train.setVelocityX(0);
            number2 = 2;
            Answer2.setText(number2);
            train.setVelocityX(100);
             
        }


        if (train.x > 480) {
            train.setVelocityX(0);
            if (this.keyboard.THREE.isDown === true){
                number3 = 3;
                Answer3.setText(number3);
            }                      
        }

        

        if(train.x > 400 && number3 == 3){
                      train.setVelocityX(100);
                }
        if (train.x > 600 && number4 == 0){
            train.setVelocityX(0);
            if (this.keyboard.FOUR.isDown === true){
                number4 = 4;
                Answer4.setText(number4);
            }
        }


        if(train.x > 400 && number4 == 4){
                      train.setVelocityX(100);
                }
          if (train.x > 720 && number4 == 4){
            train.setVelocityX(0);
            if (this.keyboard.FIVE.isDown === true){
                number5 = 5;
                Answer5.setText(number5);
            }
        }

        if(train.x > 400 && number5 == 5){
                      train.setVelocityX(100);
                }



        
       


	}  





	</script>
</body>
	</html>
